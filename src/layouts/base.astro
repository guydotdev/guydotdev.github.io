---
import { SEO } from 'astro-seo'

import '../styles/base.css'

import Header from '../components/layout/header.astro'
import Main from '../components/layout/main.astro'
import Footer from '../components/layout/footer.astro'

const { title, seoTitle, seoImage } = Astro.props

const image = new URL(seoImage || '/assets/guy-royse.png', Astro.site).toString()
---

<!doctype html>
<html lang="en">
  <head>
    <SEO
      title={title}
      openGraph={{
        basic: {
          title: seoTitle,
          image: image,
          type: 'website'
        }
      }}
      twitter={{
        title: seoTitle,
        image: image,
        creator: '@guyroyse'
      }}
    />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="alternate" type="application/rss+xml" title="The Guy Wire" href={new URL('feed.xml', Astro.site)} />

    <title>guy.dev | {title}</title>
  </head>

  <body class="flex flex-col items-center max-w-full bg-dorkness-rising text-not-white overflow-y-scroll">
    <Header />
    <Main>
      <slot />
    </Main>
    <Footer />
  </body>
</html>
